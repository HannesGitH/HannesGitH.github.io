<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hannes</title>
    <link href="main.css" rel="stylesheet" type="text/css" />
    <link rel="icon" type="image/png" href="/favicon.png" />
    <link
      href="https://fonts.googleapis.com/css?family=Abril+Fatface|Roboto:300,700"
      rel="stylesheet"
    />
  </head>

  <body>
    <div id="layer1">
      <header class="offset1">
        <a
          class="bigButton"
          style="float: left"
          href="https://www.linkedin.com/in/hannes-hattenbach"
        >
          mich kontaktieren
        </a>
        <object
          id="small-main-icon"
          style="float: left; margin-top: -10px; margin-bottom: -10px"
          data="/main-icon.html"
          type="image/svg+xml"
          width="75"
          height="75"
        ></object>
      </header>
      <div style="height: 20vh"></div>

      <div class="me">
        <object
          id="main-icon"
          style="float: left"
          data="/main-icon.html"
          type="image/svg+xml"
          width="262"
          height="262"
        ></object>
        <div class="headline">
          <h1>
            Hey, <br />
            ich bin Hannes Hattenbach <br />
            und momentan Informatik-Student
          </h1>
          <a
            class="bigButton"
            style="margin-top: 0.5cm"
            href="https://www.linkedin.com/in/hannes-hattenbach"
          >
            mich kontaktieren
          </a>
        </div>
      </div>

      <section id="projectsSection">
        <a href="javascript:expandProjects()" class="title"
          >Meine Projekte↴ </a
        >
        <script>
          var projectsIsExpanded = true;
          function expandProjects() {
            projectsIsExpanded ^= true;
            var projects = document.querySelectorAll("#projects>div");// .getElementById("projects");
            console.log(projects)
            //projects.hidden=projectsIsExpanded;
            if (projectsIsExpanded) {
              for (const project of projects) {
                project.classList.add("normal");
              }
            } else {
              for (const project of projects) {
                project.classList.remove("normal");
              }
            }
          }

          let passwordcheck_isExpanded = false;
          function expandIframe_passwordcheck(){
            passwordcheck_isExpanded^=1;
            if(passwordcheck_isExpanded){
              document.getElementById('iframe_password-check').innerHTML = ''
            }else{
              document.getElementById('iframe_password-check').innerHTML = '<iframe src="https://hannesgith.github.io/password-check/" style="height:10.5cm" frameborder="0" scrolling="no" seamless="seamless"></iframe>';
            }
          }

        </script>
        <div id="projects" >
          <div class="project normal">
          <a
            href="https://play.google.com/store/apps/details?id=tools.hannepps.kruemelreiten"
            >Ein Gruppen-Management-Tool (Flutter)
            <p style="font-size: xx-small; font-weight: 100">
              (speziell für private Zwecke gebaut)
            </p></a
          >
        </div><div class="project normal">
          <a
            href="javascript:expandIframe_passwordcheck()"
            >Eine Passwort Test PWA
            <p style="font-size: xx-small; font-weight: 100">
              (mit svelte)
            </p></a
          >
          <div id="iframe_password-check"></div>
          </div>
          <div class="project normal sidenote">
          <a
            href="https://fuhannes.github.io/graph-drawing/"
            >Film-Remake Visualisierung
            <p style="font-size: xx-small; font-weight: 100">

            </p></a
          >
        </div>
        </div>
      </section>
      <!-- to have more place to scroll, can be removed rather soon -->
      <div style="height: 100vh"></div>
      <p>
        den Bau dieser Website hab ich erstmal verschoben, da ich momentan mit
        Uni-Zeug beschäftigt bin
      </p>
    </div>
    <div id="blend_between"></div>
    <div id="background_canvas"></div>
  </body>
  <style></style>
  <script>
    function distanceFromToptoTopInPx(elem) {
      return elem.getBoundingClientRect().top - window.pageYOffset;
    }
    function distanceFromBottomtoTopInPx(elem) {
      //console.log("bottom: "+elem.getBoundingClientRect().bottom);
      return elem.getBoundingClientRect().bottom; //-window.pageYOffset+window.innerHeight;
    }

    function cutEnds(val, start, end) {
      let r = val > start ? val : start;
      return r < end ? r : end;
    }
    function distanceFromBottomtoTopFactor(elem, triggerFactor) {
      let dist =
        distanceFromBottomtoTopInPx(elem) /
        window.outerHeight /
        (triggerFactor ?? 1);
      return cutEnds(dist, 0, 1);
    }

    let me = document.getElementsByClassName("me")[0];
    let meInitOff = distanceFromBottomtoTopInPx(me);
    function rotateMeAway() {
      let winkel = -90 + distanceFromBottomtoTopFactor(me, 0.6) * 90;
      me.style.transform = "rotateZ(" + winkel + "deg)";
      document.getElementById("main-icon").style.transform =
        "scale(" + (1 + winkel / 90) + ")";
      document.getElementsByClassName("offset1")[0].style.transform =
        "translate(" + (100 + (100 * winkel) / 90) + "%)";
    }

    document.addEventListener("scroll", (e) => {
      rotateMeAway();
    });
  </script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r99/three.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/latest/TweenMax.min.js"></script>

  <script>
    if (false){
    var scene = new THREE.Scene();

    var camera = new THREE.PerspectiveCamera(
      85,
      window.innerWidth / window.innerHeight,
      0.1,
      1000
    );
    camera.position.z = 7;

    var renderer = new THREE.WebGLRenderer({ antialias: true });
    renderer.setClearColor("#f1f1f1");
    renderer.setSize(window.innerWidth, window.innerHeight);

    document.getElementById('background_canvas').appendChild(renderer.domElement);

    window.addEventListener("resize", () => {
      renderer.setSize(window.innerWidth, window.innerHeight);
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
    });

    var raycaster = new THREE.Raycaster();
    var mouse = new THREE.Vector2();

    var geometry = new THREE.BoxGeometry(1, 1, 1);
    var material = new THREE.MeshLambertMaterial({ color: 0x67f7f7 });

    for (var i = 0; i < 15; i++) {
      var mesh = new THREE.Mesh(geometry, material);
      mesh.position.x = (Math.random() - 0.5) * 10;
      mesh.position.y = (Math.random() - 0.5) * 18 - 10;
      mesh.position.z = (Math.random() - 0.5) * 10;
      scene.add(mesh);
    }

    var light = new THREE.PointLight(0xdfbfff, 2, 100);
    light.position.set(10, 10, 10);
    scene.add(light);

    var light = new THREE.PointLight(0x80f0ff, 3, 1000);
    light.position.set(-0, 0, 25);
    scene.add(light);

    var render = function () {
      requestAnimationFrame(render);
      renderer.render(scene, camera);
    };

    function onMouseMove(event) {
      event.preventDefault();

      mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
      mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;

      raycaster.setFromCamera(mouse, camera);

      var intersects = raycaster.intersectObjects(scene.children, true);
      for (var i = 0; i < intersects.length; i++) {
        this.tl = new TimelineMax();
        let intersectedObj = intersects[i].object;
        this.tl.to(intersectedObj.scale, 1, { x: 2, ease: Expo.easeOut });
        this.tl.to(intersectedObj.scale, 0.5, { x: 0.5, ease: Expo.easeOut });
        this.tl.to(intersectedObj.position, 0.5, {
          y: intersectedObj.position.y - 2,
          ease: Expo.easeOut,
        });
        this.tl.to(
          intersectedObj.rotation,
          0.5,
          { y: Math.PI * 0.5, ease: Expo.easeOut },
          "=-1.5"
        );
      }
    }

    window.addEventListener("mousemove", onMouseMove);
    render();

    let lastKnownScrollPosition = 0;
    document.addEventListener("scroll", (event) => {
      let delta = lastKnownScrollPosition-window.scrollY;
      lastKnownScrollPosition = window.scrollY;
      this.tl = new TimelineMax();
      this.tl.to(camera.position, 1.7, {
        y: lastKnownScrollPosition/1000*-5,//camera.position.y - 2 * delta,
        ease: Expo.easeOut,
      });
    });
  }
  </script>
  <style>
    canvas {
      top: 0;
      left: 0;
      position: fixed;
      z-index: -1;
      display: block;
    }
  </style>
</html>
